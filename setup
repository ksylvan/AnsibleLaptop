#!/bin/sh
#
# Setup script for AnsibleLaptop
# This will only ensure that Ansible is installed and working.
#
exists()
{
  command -v "$1"
}

ansibleInstall()
{
  if [ -z "$(exists ansible)" ]; then
    sudo dnf install ansible
  else
    echo "WARNING: Ansible is already installed. Skipping install."
  fi
}

ansibleTest()
{
  if ansible all -i localhost, -c local -m ping; then
    echo "SUCCESS: Ansible is working correctly against localhost."
  else
    echo "ERROR: Something is wrong with your setup."
  fi
}

ansibleInstall
ansibleTest
